\makeatletter
\def\input@path{{../macros/}{../../macros/}}
\makeatother

\documentclass[a4paper,final,11pt]{article}

\usepackage{mydoc}
\input{mydoc.tex}

\title{The package \package{easybmat}}

\begin{document}

\maketitle
\begin{abstract}
  The \package{easybmat}
  package is a macro package for supporting block matrices
  having equal column widths or equal rows heights or both,
  and supporting various kinds of rules~(lines) between rows and columns.
  The package is based on an array/ta\-bular-like syntax.       
\end{abstract}


\tableofcontents
%begin{latexonly}
\clearpage
%end{latexonly}

\pagestyle{fpage}
\def\sectionmark#1{\markboth{The package \package{easybmat}}{The package \package{easybmat}}}
\let\chaptermark\sectionmark
\let\subsectionmark\sectionmark

\section{Some examples with \package{easybmat}}
%%
The package is loaded by means the usual way:
%%
\VRB{docbmat.1.tex}
%%
The options \texttt{thinlines} and \texttt{thicklines} are self
explanatory.  \package{easybmat} provides the
\envname{BMAT}~environment which is a re-implementation of the
array/tabular environment, with some limitation and some additional
features.  The syntax is
%%
\VRB{docbmat.2.tex}
%%
or 
%%
\VRB{docbmat.3.tex}
%%
\begin{dotlist}
  %%
  \item
  %%
  \verb|(eq)| or \verb|(eq,mx,my)|.  By \verb|eq| you can balance
  the rows or the column or both, as shown in this table:
  %%
  \begin{center}
    \par
    \textbf{Table 1.}\nobreak\\[1em]
    \begin{tabular}{|l|l|}
      \hline
      value of \verb|eq| & effect \\
      \hline
      \verb|@| & no balancing \\
      \verb|r| & equal rows heights \\
      \verb|c| & equal column widths  \\
      \verb|b| & equal rows heights and equal column widths \\
      \verb|e| & equal rows heights and column widths \\
      \hline
    \end{tabular}
    \par
  \end{center}
  %%
  By \verb|mx| and \verb|my| you can modify the minimum size of the
  box in the BMAT environment.  This must be a valid measure e.g.
  \verb|2pt|.  This is useful in writing matrices an vectors.
  %%
  \item
  \verb|[ex]| or \verb|[ex,MX,MY]|.  By \verb|ex| you can specify
  the amount of extra space around the item in the \envname{BMAT}
  environment.  The default is \verb|2pt|.  By \verb|MX| and \verb|MY|
  you can modify the minimum size of the whole block matrix in the
  \envname{BMAT} environment.  This must be a valid measure e.g.
  \verb|10cm|.
  %%
  \item
  The first \verb|{cc...c}| is the definition of the columns and
  their alignment.  The possible alignment for the columns are:
  %%
  \begin{center}
    \par
    \textbf{Table 2.}\nobreak\\[1em]
    \begin{tabular}{|l|l|}
      \hline
      \verb|c| & centering \\
      \verb|l| & flush left \\
      \verb|r| & flush right \\
      \hline
    \end{tabular}
    \par
  \end{center}
  %%  
  \item
  The second \verb|{cc...c}| is the definition of the rows their
  alignment.  The possible alignment for the rows are:
  %%
  \begin{center}
    \par
    \textbf{Table 3.}\nobreak\\[1em]
    \begin{tabular}{|l|l|}
      \hline
      \verb|c| & centering \\
      \verb|t| & flush top \\
      \verb|b| & flush bottom \\
      \hline
    \end{tabular}
    \par
  \end{center}
  %%
\end{dotlist}
%
%
%
\textbf{IMPORTANT:} The package can manage matrices with a maximum of
\verb|30| rows by \verb|30| columns.

It is possible to produce rules among columns or rows as this
example shows:
%%
\EXAMPLEA{docbmat.4}
%%
The available rules for the rows and columns are
\begin{center}
  \par
  \textbf{Table 4.} \\[1em]
  \begin{tabular}{|l|l|}
    \hline
    nothing  & no rule \\
    \verb+|+ & solid line \\
    \verb|:| & dash line \\
    \verb|;| & dot-dash line \\
    \verb|.| & dotted line \\
    \verb|0| & solid line with size \verb|1/5| of normal line \\
    \verb|1| & solid line with size \verb|1/4| of normal line \\
    \verb|2| & solid line with size \verb|1/3| of normal line \\
    \verb|3| & solid line with size \verb|1/2| of normal line \\
    \verb|4| & equivalent to \verb+|+ \\
    \verb|5| & solid line with size \verb|2| times of normal line \\
    \verb|6| & solid line with size \verb|3| times of normal line \\
    \verb|7| & solid line with size \verb|4| times of normal line \\
    \verb|8| & solid line with size \verb|5| times of normal line \\
    \verb|9| & solid line with size \verb|6| times of normal line \\
    \hline
  \end{tabular}
  \par
\end{center}
%%
The main feature of the \envname{BMAT}~environment
is that it is reentrant as shown here:
%%
\EXAMPLEA{docbmat.5}
%%
\textbf{IMPORTANT:} The package can manage a maximum reentrance
of \verb|8| levels.

\section{An example with balancing}
%%
The effect of various balancing is best seen below:
%
\EXAMPLEA{docbmat.6}
%

\section{Some example with minimal size setting}
It is possible to specify the minimal size of the item inside a
``BMAT'' environment, as shown here
%%
\EXAMPLEA{docbmat.7}
%%
It is possible to specify the total minimal size of a
\envname{BMAT} environment, as shown here
%%
\EXAMPLEA{docbmat.8}
%%

\section{An example with various size rules}
%%
This example shows the use of various size rule in \envname{BMAT} 
environment:
%%
\EXAMPLEA{docbmat.9}
%


\section{The \texttt{\char`\\addpath} command}
Is is possible to add paths to the ``BMAT'' environment. The syntax 
is the following
%
\VRB{docbmat.10.tex}
%
where
\begin{desc}
  %%
  \item[x and y]
  are the integer coordinate of the starting point.
  The down left corner is at $x=0$, $y=0$.
  %%
  \item[rule]
  is the code of a valid rule as described in table 4.
  %%
  \item[path]
  is a string describing the path.  Each letter of the string is a
  movement coded as follows:
  %%
  \begin{center}
    \par
    \textbf{Table 5.} \\[1em]
    \begin{tabular}{|l|l|}
      \hline
      letter & direction \\
      \hline
      \verb|l| & left movement and drawing \\
      \verb|r| & right movement and drawing \\
      \verb|u| & up movement and drawing \\
      \verb|d| & down movement and drawing \\
      \hline
    \end{tabular}
    \par
  \end{center}
  %%
\end{desc}
%%
The following example shows the use of \cmdname{addpath},
%%
\EXAMPLEA{docbmat.11}
%%
This is another example
%%
\EXAMPLEA{docbmat.12}
%%


\section{An example with reentrance}
%%
This final example shows a slightly more complex (reentrant)
definition in which the \envname{BMAT}~environment is used:
%%
\VRB{docbmat.13.tex}
%%
It produces the following output:
\typeout{This example can take a while to compile on small machine, please wait...}
%%
\FRAMECODE{docbmat.13.tex}
%%
\typeout{...thanks, I have done}

\end{document}
